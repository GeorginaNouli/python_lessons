## Μέρος Α

Για τις επόμενες ασκήσεις θα πρέπει να κατεβάσετε το αρχείο που βρίσκετε στο εξής link: https://raw.githubusercontent.com/washingtonpost/data-game-of-thrones-deaths/master/game-of-thrones-deaths-data.csv 

Ένας τρόπος για να το κατεβάσετε είναι το τρέξετε την εντολή:

```bash
wget https://raw.githubusercontent.com/washingtonpost/data-game-of-thrones-deaths/master/game-of-thrones-deaths-data.csv  
```

Αυτό το αρχείο είναι σε μορφή [csv](https://en.wikipedia.org/wiki/Comma-separated_values). 
Περιέχει όλους τους.. θανάτους που έγιναν στο [Game of Thrones](https://www.imdb.com/title/tt0944947/). 
Περισσότερα για το αρχείο αυτό μπορείτε να διαβάσετε [εδώ](https://github.com/washingtonpost/data-game-of-thrones-deaths), ενώ [εδώ](https://www.washingtonpost.com/graphics/entertainment/game-of-thrones/) υπάρχει μία παρουσίασή του.

Η πρώτη γραμμή του αρχείου περιέχει την επικεφαλίδα (header) με τα εξής πεδία:
```
order,season,episode,character_killed,killer,method,method_cat,reason,location,allegiance,importance
```

* order: Η σειρά με την εοποία έγινε ο θάνατος
* season: H σεζόν
* episdose: Το επεισόδιο της σεζόν
* character_killed: Ποιος πέθανε
* killer: Ποιος τον σκότωσε
* method: Με ποιον τρόπο τον σκότωσε
* method_cat: Η κατηγορία του τρόπου που τον σκότωσε
* reason: Ο λόγος για τον οποίο τον σκότωσε
* location: Ο τόπος που σκοτώθηκε
* allegiance: Σε ποια φατρία/οικογένεια/φυλή ανοίκει αυτός που πέθανε
* importance: Ένας αριθμός από το 1 μέχρι το 4. Υποδηλώνει πόσο σημαντικό για την πλοκή είναι ο θάνατος. 1=ασήμαντος, 4=πολύ σημαντικός.

Δίνεται επίσης ο εξής κώδικας για να αποθηκεύσετε όλα τα δεδομένα σε μία λίστα:

```python
import csv

order_index = 0
season_index = 1
episode_index = 2
character_killed_index = 3
killer_index = 4
method_index = 5
method_cat_index = 6
reason_index = 7
location_index = 8
allegiance_index = 9
importance_index = 10

data = []
with open('game-of-thrones-deaths-data.csv', newline='') as f:
    reader = csv.reader(f, delimiter=',', quotechar='"')
    header = f.readline().strip().split(',')
    for ls in reader:
        d = {
            'order': int(ls[order_index]),
            'season': int(ls[season_index]),
            'episode': int(ls[episode_index]),
            'character_killed': ls[character_killed_index],
            'killer': ls[killer_index],
            'method': ls[method_index],
            'method_cat': ls[method_cat_index],
            'reason': ls[reason_index],
            'location': ls[location_index],
            'allegiance': ls[allegiance_index],
            'importance': int(ls[importance_index]) if ls[importance_index] else 1,
        }
        data.append(d)
```

Κάθε στοιχείο της λίστας είναι ένα dictionary με όλα τα πεδία. 

Εσείς θα πρέπει να γράψετε κώδικα που να απαντάει στα εξής ερωτήματα (εννοείται ότι δεν χρειάζεται να έχετε παρακολουθήσει τη σειρά για να απαντήσετε): 

###  Άσκηση 1
Πόσοι θάνατοι έχουν importance μεγαλύτερο από 1;

### Άσκηση 2
Από όσους έχουν importance μεγαλύτερο από 1, πόσοι έχουν σκοτωθεί από την Arya Stark;

### Άσκηση 3
Σε ποια σεζόν έχει σκοτώσει περισσότερους ο Jon Snow; Πάρτε μόνο όσους έχουν importance μεγαλύτερο από 1.

### Άσκηση 4
Πόσες διαφορετικές κατηγορίες θανάτου (method_cat) υπάρχουν;

### Άσκηση 5
Για κάθε διαφορετική κατηγορία θανάτου, σε ποιά φατρία/οικογένεια/φυλή ανοίκουν τα μέλη που έχουν σκοτωθεί τις περισσότερες φορές από αυτή τη κατηγορία; Πάρτε μόνο θανάτους με importance>1

### Άσκηση 6
Ποιος έχει κάνει τους 2ους περισσότερους φόνους με importance>1;

### Άσκηση 7
Ποιος είναι ο λόγος (reason) που προκάλεσε τους περισσότερους θανάτους με importance>2;

### Άσκηση 8
Σε ποια επεισόδια δεν έγινε κανένας θάνατος; (τυπώστε και τη σεζόν του κάθε επεισοδίου)

### Άσκηση 9
Αν πάρουμε όλα τα διαφορετικά ζευγάρια (θύτης,θύμα) και όλα τα διαφορετικά ζευγάρια (θύμα,θήτης), πόσα κοινά στοιχεία υπάρχουν μεταξύ τους;

### Άσκηση 10
Πόσος είναι ο μέσος όρος θανάτων ανά επεισόδια για κάθε σεζόν; Δηλαδή για κάθε σεζόν (8 συνολικά), τυπώστε τον μέσο όρο από θανάτους που είχε το κάθε επεισόδιο αυτής της σεζόν. 

### Άσκηση 11
Πόσοι είναι αυτοί που έχουν σκοτώσει αλλά δεν έχουν σκοτωθεί;

### Άσκηση 12 (εξαιρετικά δύσκολη)
Ας υποθέσουμε ότι έχουμε μία σειρά από φόνους: ο Α σκοτώνεται από τον Β, ο Β σκοτώνεται από τον Γ και τέλος ο Γ σκοτώνεται από τον Δ. Έχουμε δηλαδή μία σειρά από 4 φόνους όπου ο ν-οστός σκοτώνεται από το (ν+1)-στο. Ποια είναι η μεγαλύτερη αλυσίδα από φόνους που βλέπουμε στο games of thrones;

Πάρτε μόνο τους θάνατους με importance > 2

Hint: Στην ουσία ζητάμε να βρούμε τη μεγαλύτερη διαδρομή σε έναν γράφο όπου κόμβοι είναι ήρωες και ακμές είναι.. φόνοι. Μπορείτε να προσαρμόσετε τον κώδικα που υπάρχει εδώ: https://stackoverflow.com/questions/29320556/finding-longest-path-in-a-graph . 

## Μέρος Β

Και επειδή πολύ μελαγχολικό ήταν το θέμα των ασκήσεων μέχρι στιγμής, θα ασχοληθούμε με κάτι πολύ πιο ευχάριστο όπως... η eurovision!
Συγκεκριμένα θα ασχοληθούμε με τη [eurovision του 2016](https://en.wikipedia.org/wiki/Eurovision_Song_Contest_2016).

Για όσους δεν το ξέρουν, κάθε χώρα βαθμολογεί μία άλλη χωρά με 1,2,3,4,5,6,7,8,10 ή 12 βαθμούς. 
Επίσης υπάρχουν δύο βαθμολογίες, αυτή του κοινού (televoting) και αυτή μιας ομάδας κριτών (jury).

Για αρχή λοιπόν θα πρέπει να κατεβάσουμε τα επίσημα αποτελέσματα του τελικού:

* Πηγαίνετε εδώ: https://eurovision.wetransfer.com/downloads/a1da4b5eb0395e58b71016dce076564a20170409152448/6754ae
* Πατήστε "I agree" (αν φυσικά συμφωνείτε)
* Επιλέξτε και κατεβάστε το αρχείο "ESC-2016-grand_final-full_results.xls", το οποίο περιέχει τις ψήφους για τον τελικό του 2016

Στη συνέχεια μπορούμε να ανοίξουμε το αρχείο αυτό από python και να το επεξεργαστούμε ως εξής:

```python
import pandas as pd

df = pd.read_excel('ESC-2016-grand_final-full_results.xls') # Αγνοήστε τα warnings..

data = []

for k,v in df.to_dict('index').items():
    if k==0:
        continue
    
    d = {
        'from_country': v['Eurovision Song Contest 2016 Grand Final'],
        'to_country': v['Unnamed: 1'],
        'jury_points': 0 if v['Unnamed: 9']=='\n' else int(v['Unnamed: 9']),
        'televote_points': 0 if v['Unnamed: 10']=='\n' else int(v['Unnamed: 10']),
    }
    
    data.append(d)

```

Σημείωση: αν δεν έχετε pandas, μπορείτε να την εγκαταστήσετε με:
```
!pip install pandas 
```

Αφού τρέξει λοιπόν αυτό, θα έχετε μία λίστα από dictionaries. Κάθε dictionary περιέχει πόσους πόντους έδωσε κάθε χώρα (from_country) σε κάθε χώρα (to_country). Κάθε χώρα έδωσε δύο ειδών βαθμούς: (1) από τους κριτές  (jury_points) και από το "κοινό" (televote_points).  Για παράδειγμα:

```python
data[1000]

{'from_country': 'The Netherlands',
 'to_country': 'France',
 'jury_points': 5,
 'televote_points': 4}
```

Η Ολλανδία έδωσε στη Γαλλία 5 πόντους σύμφωνα με τους κριτές και 4 πόντους σύμφωνα με το κοινό. 

Τώρα είμαστε έτοιμοι να απαντήσουμε σε μερικά καίρια ερωτήματα:

### Άσκηση 13
Εντοπίστε τα σκάνδαλα! Ποιες είναι οι 10 μεγαλύτερες διαφωνίες μεταξύ των ψήφων του κοινού και των ψήφων των κριτών; Πάρτε την απόλυτη διαφορά τους. 

### Άσκηση 14
Ποια χώρα είναι η πιο.. αδικημένη; Δηλαδή έχει τη μεγαλύτερη διαφορά μεταξύ των ψήφων του κοινού και των ψήφων των κριτών;

### Άσκηση 15
Καθως έχουμε ψύχωση με τις αδικίες στη eurovision, θα προσπαθήσουμε να βρούμε τη πιο αδικημένη χώρα με έναν άλλο τρόπο:
Έστω Α η κατάταξη μίας χώρας αν πάρουμε μόνο τις ψήφους του κοινού (δηλαδή αν Α=1 τότε είναι πρώτη). Έστω Β η κατάταξή της αν πάρουμε όλους τους ψήφους. Για ποια χώρα η διαφορά Β-Α είναι η μεγαλύτερη;

### Άσκηση 16
Φτιάξτε ένα dictionary: Τα keys είναι οι χώρες και τα values είναι λίστα με τις χώρες που ψήφισαν το key με φθίνουσα σειρά βαθμών (κριτές + κοινό) που έδωσαν. Για παράδειγμα αν d είναι το dictionary τότε θα πρέπει:

```python
print (d['Australia'])

['Sweden',
 'Albania',
 'Denmark',
 'Norway',
 'Iceland',
 'The Netherlands',
 'Poland',
 'Lithuania',
 'Croatia',
 'Belgium',
 'Moldova',
 'Malta',
 'Israel',
 'Hungary',
 'Finland',
 'Cyprus',
 'Austria',
 'United Kingdom',
 'Estonia',
 'Switzerland',
 'Bulgaria',
 'Bosnia & Herzegovina',
 'Spain',
 'Serbia',
 'Greece',
 'Latvia',
 'Germany',
 'F.Y.R. Macedonia',
 'Ukraine',
 'Slovenia',
 'Georgia',
 'Azerbaijan',
 'Belarus',
 'Russia',
 'Italy',
 'Ireland',
 'France',
 'San Marino',
 'Armenia',
 'Montenegro',
 'Czech Republic']
```

### Άσκηση 17
Φτιάξτε ένα αρχείο "votes.txt". Το αρχείο θα πρέπει να έχει γραμμές τόσες όσες οι χώρες που πήραν μέρος στον τελικό, συν 1. Θα πρέπει να έχει στήλες τόσες όσες οι χώρες που ψήφισαν, συν 1.
H πρώτη γραμμή θα έχει τη λίστα με όλες τις χώρες που ψήφισαν (με όποια σειρά θέλετε).
Η πρώτη στήλη θα έχει τη λίστα με όλες τις χώρες που πήραν μέρος στον τελικό. 
Στη σημείο x,y (γραμμή x,y) θα έχει τους πόντους που έδωσε η χώρα y στη χώρα x. 
Χρησημοποιήστε το ',' για να διαχωρίσετε τα πεδία. Για παράδειγμα το αρχείο που θα φτιάξετε μπορεί να έχει αυτή τη μορφή:

```text
COUNTRY,Armenia,Australia,Austria,Azerbaijan,Belgium,Bulgaria,Croatia,Cyprus,Czech Republic,France,Georgia,Germany,Hungary,Israel,Italy,Latvia,Lithuania,Malta,Poland,Russia,Serbia,Spain,Sweden,The Netherlands,Ukraine,United Kingdom
Armenia,0,0,2,0,7,20,4,16,8,14,12,2,1,8,1,6,4,7,2,24,5,18,4,10,7,0
Australia,5,0,15,9,16,13,17,15,1,6,9,11,15,15,6,11,17,15,17,6,12,12,24,17,9,14
Austria,4,3,0,0,8,4,6,0,4,16,0,7,6,3,0,4,1,0,4,8,0,2,5,14,0,0
Azerbaijan,0,0,0,0,0,1,0,2,6,0,7,0,7,2,0,3,0,6,0,16,0,2,10,1,17,0
Belgium,4,24,5,0,0,10,0,0,2,4,10,5,0,7,0,0,5,0,0,0,5,0,0,16,10,0
Bulgaria,7,18,5,16,11,0,1,12,5,15,3,4,4,14,7,2,2,18,6,0,12,12,4,1,3,13
Croatia,0,1,6,0,0,0,0,1,8,0,2,0,0,3,0,0,0,0,0,0,4,0,0,0,0,1
Cyprus,12,0,0,0,0,7,1,0,0,0,0,0,5,0,7,0,0,5,1,11,3,0,0,0,0,9
Czech Republic,1,0,4,0,1,0,10,0,0,0,0,0,2,0,0,0,0,0,4,0,0,0,3,0,0,0
France,19,13,8,4,16,0,10,13,5,0,4,0,1,20,12,0,4,8,1,10,0,17,11,9,0,6
Georgia,18,0,0,1,7,3,0,0,0,0,0,8,0,0,6,2,14,0,8,5,0,0,0,0,9,12
Germany,0,0,2,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Hungary,3,0,0,11,0,0,8,8,13,0,2,0,0,0,0,0,2,5,6,1,10,10,0,0,2,0
Israel,0,10,0,9,2,2,7,5,0,3,3,12,0,0,8,2,6,1,7,0,7,1,0,7,6,3
Italy,0,0,0,0,10,0,3,3,0,12,0,4,0,0,0,0,0,15,0,0,0,8,0,6,0,0
Latvia,0,0,0,0,0,0,0,0,1,0,13,2,8,5,0,0,19,0,11,4,0,0,0,0,13,3
Lithuania,0,8,1,5,0,1,0,3,3,0,10,1,3,1,2,18,0,0,2,0,8,0,8,0,15,16
Malta,13,6,10,11,0,7,0,6,6,4,0,0,10,0,5,4,0,0,0,8,10,6,7,0,0,0
Poland,1,0,12,5,12,6,4,2,7,7,4,10,8,4,10,5,9,0,0,5,0,5,10,10,8,10
Russia,14,5,11,24,6,18,14,22,10,7,8,12,10,10,8,19,8,14,8,0,13,12,14,3,12,7
Serbia,0,0,4,0,0,5,14,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,2
Spain,3,7,0,1,0,4,0,0,0,4,0,0,5,4,12,0,0,2,5,0,0,0,2,0,0,4
Sweden,2,0,15,0,1,3,7,1,14,7,6,18,11,0,2,15,7,0,10,2,1,1,0,12,5,1
The Netherlands,0,3,6,0,14,2,0,0,7,7,0,7,8,0,4,3,0,3,0,0,5,3,7,0,0,0
Ukraine,10,10,10,20,5,10,10,7,12,10,22,13,12,20,22,22,18,4,24,10,19,7,7,10,0,15
United Kingdom,0,8,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,13,0,6,2,0,0,0,0,0
```

### Άσκηση 18
Φτιάξτε έναν generator ο οποίος θα κάνει generate [composite numbers](https://en.wikipedia.org/wiki/Composite_number). 
Ένας composite number είναι ένας αριθμός που ΔΕΝ είναι πρώτος.
Για παράδειγμα, αν gen είναι ο generator που έχετε φτιάξει, θα πρέπει να μπορώ να γράψω:

```python
g = gen()     
for i in range(10):
    print (next(g))

Τυπώνει:

4
6
8
9
10
12
14
15
16
18

```

### Άσκηση 19
Χρησιμοποιώντας τον generator της άσκησης 18, γράψτε έναν άλλο generator ο οποίος τυπώνει το [τρέχων άθροισμα](https://en.wikipedia.org/wiki/Running_total) όλων των composite number. Δηλαδή τη πρώτη φορά τυπώνει 4, τη δεύτερη 4+6, τη τρίτη 4+6+8. Κτλ. Αν η μέθοδός σας υπολογίζει κάθε φορά ξανά όλους του composite numbers, θα είναι λάθος!

Αν running_total είναι ο generator που έχετε φτιάξει, Θα πρέπει να μπορώ να γράφω:

```python
g = running_total()
for i in range(10):
    print (next(g))

Τυπώνει:

4
10
18
27
37
49
63
78
94
112
```

### Άσκηση 20 (Εξαιρετικά δύσκολη)
Ο αριθμός 41 είναι πρώτος. Ο αριθμός 41 έχει και μια άλλη ιδιότητα. Μπορεί να γραφεί σαν άθροισμα από συνεχόμενους πρώτους:

```text
41 = 2 + 3 + 5 + 7 + 11 + 13
```

Επίσης παρατηρούμε ότι το πλήθος από συνεχόμενους πρώτους είναι: 6

Αυτό είναι και το μεγαλύτερο πλήθος από συνεχόμενους πρώτους, που αν τους προσθέσεις θα βγεί πρώτος μικρότερος του 100. 

Ομοίως το μεγαλύτερο πλήθος από συνεχόμενους πρώτους που αν τους προσθέσεις θα βγει πρώτος μικρότερος του 1000, είναι 21, ενώ το άθροισμά τους είναι 953:

```text
953 = 7 + 11 + 13 + 17 + 19 + 23 + 29 + 31 + 37 + 41 + 43 + 47 + 53 + 59 + 61 + 67 + 71 + 73 + 79 + 83 + 89
```


Ποιος είναι ο πρώτος αριθμός, μικρότερος από το 1.000.000, που μπορεί να γραφεί σαν το μεγαλύτερο άθροισμα συνεχόμενων πρώτων αριθμών;

Κάποια hints βρίσκονται εδώ: https://stackoverflow.com/questions/25696076/consecutive-prime-sum 

[πηγή](https://projecteuler.net/problem=50)

